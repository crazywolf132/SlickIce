var ConcreteDashboard=function(){setupResultMessages=function(){if($("#ccm-dashboard-result-message").length>0){if($(".ccm-pane").length>0){var a=$(".ccm-pane").parent().attr("class"),b=$(".ccm-pane").parent().parent().attr("class"),c=$("#ccm-dashboard-result-message").html();$("#ccm-dashboard-result-message").html('<div class="'+b+'"><div class="'+a+'">'+c+"</div></div>").fadeIn(400)}}else $("#ccm-dashboard-result-message").fadeIn(200)};var a=function(){var b=$("a[data-bookmark-action=add-favorite]"),c=$("a[data-bookmark-action=remove-favorite]"),d=!1;if(b.length)var d=CCM_DISPATCHER_FILENAME+"/ccm/system/panels/dashboard/add_favorite",e=b;else if(c.length)var d=CCM_DISPATCHER_FILENAME+"/ccm/system/panels/dashboard/remove_favorite",e=c;d&&e.on("click",function(b){b.preventDefault(),$.concreteAjax({dataType:"json",type:"GET",data:{cID:$(this).attr("data-page-id"),ccm_token:$(this).attr("data-token")},url:d,success:function(b){"remove"==b.action?(e.attr("data-bookmark-action","add-favorite"),e.html('<i class="fa fa-lg fa-bookmark-o"></i>')):(e.attr("data-bookmark-action","remove-favorite"),e.html('<i class="fa fa-lg fa-bookmark"></i>')),a()}})})},b=function(){0==$("#ccm-tooltip-holder").length&&$("<div />").attr("id","ccm-tooltip-holder").attr("class","ccm-ui").prependTo(document.body),$(".launch-tooltip").tooltip({container:"#ccm-tooltip-holder"})},c=function(){$(".dialog-launch").dialog()};return{start:function(d){b(),setupResultMessages(),c(),a()}}}();